<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sHplat</spriteName>
  <solid>-1</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>oBlock</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set random direction (H)
dir = choose (1,-1);

active = true;
count = 0;
maxDist = 800;

inside_view = point_in_rectangle(x,y, view_xview[global.myView],view_yview[global.myView], view_xview[global.myView] + view_wview[global.myView],
view_yview[global.myView] + view_hview[global.myView])

alarm[1] = 1;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// reset
if global.gameMove{
    if  point_in_rectangle(x,y, view_xview[global.myView] - 32,view_yview[global.myView]-16, view_xview[global.myView] + view_wview[global.myView],
view_yview[global.myView] + view_hview[global.myView]){
        active = true;
        if dir == 0{
            if place_free(x+2,y){
                dir = 1;
                count = 0;
            }else if place_free(x-2,y){
                dir = -1;
                count = 0;
            }
        }
    }
}

alarm[1] = 5
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// reset distance counter
count = 0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move platform
if global.gameMove &amp;&amp; active{
    if dir == 1{
        if (count &lt; maxDist){ 
            if place_free(x+2,y){
                x += 1;
                count += 1;
            }else{
                if place_free(x-2,y){
                    dir = -1;
                    alarm[0] = 1;
                }else{
                    dir = 0;
                }
            }
        }else{
            dir = -1;
            alarm[0] = 1;
        }
    }else if dir == -1{
        if (count &lt; maxDist){
            if place_free(x-2,y){
                x -= 1;
                count += 1;
            }else{
                if place_free(x+2,y){
                    dir = 1;
                    alarm[0] = 1
                }else{
                    dir = 0; 
                }
            }
        }else{
            dir = 1;
            alarm[0] = 1;
        }
    }
    
    if !point_in_rectangle(x,y, view_xview[global.myView] -32,view_yview[global.myView] - 16, view_xview[global.myView] + view_wview[global.myView],
view_yview[global.myView] + view_hview[global.myView]){
        active = false;
    }else{
        active = true;
    }
}else{
    //x = xprevious;
    //dir = 0;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Living Collisions
if global.gameMove{
    if place_meeting(x+2, y, oHoward) &amp;&amp; !place_meeting(x, y-2, oHoward){
        if dir == 1{
            if place_free(x + 8,y) &amp;&amp; place_meeting(x,y+1,oBlock){
                with oHoward{
                    if place_free(x+2,y){
                        if place_meeting(x,y+1, oBlock){x += 1;}
                    }else{
                        global.hp -= 10;
                        oHplat.dir = -1
                        oHplat.alarm[0] = 1;
                    }
                }
            }
        }else{
            if oHoward.left {oHoward.x -= 1; oHoward.status = "run"; oHoward.spr = sHoward_run;}
        }
    }
    else if place_meeting(x-2, y, oHoward) &amp;&amp; !place_meeting(x, y-2, oHoward){
        if dir == -1{
            if place_free(x - 8,y) &amp;&amp; place_meeting(x,y+1,oBlock){
                with oHoward{
                    if place_free(x-2,y){
                        if place_meeting(x,y+1, oBlock){x -= 1;}
                    }else{
                        global.hp -= 10;
                        oHplat.dir = 1
                        oHplat.alarm[0] = 1;
                    }
                }
            }
        }else{
            if oHoward.right {oHoward.x += 1 oHoward.status = "run"; oHoward.spr = sHoward_run;}
        }
    }    
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Various collisions
if global.gameMove{
    // Other Horizontal Platforms
    if place_meeting(x + 1,y,oHplat){
        instance = instance_place(x + 1, y, oHplat);
        move_outside_solid(180,1);
        dir = instance.dir; 
    }else if place_meeting(x - 1, y, oHplat){
       instance = instance_place(x - 1, y, oHplat);
       move_outside_solid(0,1);
       dir = instance.dir;  
    }
    // Push blocks
    if place_meeting(x + 1,y,oPush){
        move_outside_solid(180,1); 
    }else if place_meeting(x - 1, y, oPush){
       move_outside_solid(0,1); 
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
